import{a as O,b as k,c as v,d as E,e as W,f as z,g as L,i as N,j as A}from"./chunk-QBZ4MT37.js";import{A as u,B as f,I as b,J as h,K as x,L as n,M as i,P as _,S as r,V as d,W as p,X as m,ga as w,ma as C,n as c,qa as M,sa as y,va as P,y as s,za as S}from"./chunk-C7HW67Z5.js";function D(l,o){l&1&&(n(0,"span"),r(1,"Creating Account..."),i())}function F(l,o){l&1&&(n(0,"span"),r(1,"Sign Up"),i())}var T=class l{constructor(o){this.masterService=o}auth=c(M);firestore=c(P);name="";email="";password="";confirmPassword="";isLoading=!1;async onSubmit(){if(this.password!==this.confirmPassword){alert("Passwords do not match");return}if(!this.isLoading){this.isLoading=!0;try{let a=(await y(this.auth,this.email,this.password)).user,e=S(this.firestore,"users",a.uid);console.log("User data stored successfully in Firestore"),alert("Signup successful! Welcome "+this.name),console.log("User created:",a),this.name="",this.email="",this.password="",this.confirmPassword=""}catch(o){console.error("Signup error:",o),console.error("Error code:",o.code),console.error("Error message:",o.message),o.code==="permission-denied"?alert("Permission denied. Please check your Firestore security rules."):o.code==="unavailable"?alert("Network error. Please check your internet connection."):o.code==="already-exists"?alert("User profile already exists."):alert("Signup failed: "+o.message)}finally{this.isLoading=!1}}}static \u0275fac=function(a){return new(a||l)(u(A))};static \u0275cmp=f({type:l,selectors:[["app-signup"]],decls:28,vars:6,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-title"],[1,"signup-form",3,"ngSubmit"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","name","name","placeholder","Enter your full name","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Create a password","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","submit",1,"signup-btn",3,"disabled"],[1,"login-link"],["routerLink","/"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Create Account"),i(),n(4,"form",3),_("ngSubmit",function(){return e.onSubmit()}),n(5,"div",4)(6,"label",5),r(7,"Full Name"),i(),n(8,"input",6),m("ngModelChange",function(t){return p(e.name,t)||(e.name=t),t}),i()(),n(9,"div",4)(10,"label",7),r(11,"Email Address"),i(),n(12,"input",8),m("ngModelChange",function(t){return p(e.email,t)||(e.email=t),t}),i()(),n(13,"div",4)(14,"label",9),r(15,"Password"),i(),n(16,"input",10),m("ngModelChange",function(t){return p(e.password,t)||(e.password=t),t}),i()(),n(17,"div",4)(18,"label",11),r(19,"Confirm Password"),i(),n(20,"input",12),m("ngModelChange",function(t){return p(e.confirmPassword,t)||(e.confirmPassword=t),t}),i()(),n(21,"button",13),b(22,D,2,0,"span")(23,F,2,0,"span"),i()(),n(24,"p",14),r(25," Already have an account? "),n(26,"a",15),r(27,"Log in"),i()()()()),a&2&&(s(8),d("ngModel",e.name),s(4),d("ngModel",e.email),s(4),d("ngModel",e.password),s(4),d("ngModel",e.confirmPassword),s(),x("disabled",e.isLoading),s(),h(e.isLoading?22:23))},dependencies:[N,z,O,k,v,L,W,E,w,C],styles:['.signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:url(https://images.unsplash.com/photo-1557683316-973673baf926?ixlib=rb-4.0.3&auto=format&fit=crop&w=2029&q=80) no-repeat center center fixed;background-size:cover;font-family:Arial,sans-serif;position:relative}.signup-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#0000004d;z-index:1}.signup-card[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:15px;box-shadow:0 20px 40px #0000004d;padding:30px;width:100%;max-width:350px;animation:_ngcontent-%COMP%_slideUp .5s ease-out;border:1px solid rgba(255,255,255,.2)}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.signup-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333;font-size:28px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;position:relative}.signup-title[_ngcontent-%COMP%]:before{content:"\\1f306";position:absolute;left:-40px;top:50%;transform:translateY(-50%);font-size:1.5rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translateY(-50%) scale(1)}50%{transform:translateY(-50%) scale(1.1)}to{transform:translateY(-50%) scale(1)}}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#555;font-weight:500;font-size:14px}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;transition:all .3s ease;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]::placeholder{color:#aab0b6}.signup-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s ease;margin-top:10px}.signup-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px #667eea4d}.signup-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.signup-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:none}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#666;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:480px){.signup-card[_ngcontent-%COMP%]{margin:20px;padding:30px 20px}.signup-title[_ngcontent-%COMP%]{font-size:24px}.form-input[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}.signup-btn[_ngcontent-%COMP%]{padding:12px;font-size:14px}}']})};export{T as Signup};
